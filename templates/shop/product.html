{% extends 'base.html' %}
{% load static %}

{% block content %}

    <style>
        #btn2, #funding_btn1{
            border-bottom: solid 8px #796453;
            display: inline-block;
            width: 120px;
            height: 80px;
            line-height: 80px;
        }
        .nav{
            z-index: 100;
        }
        .top{
            width: 100%;
            text-align: center;
            height: 5px;
            line-height: 5px;
        }
        @charset "UTF-8";
@font-face {
    font-family: "AppleSDGothicNeoB";
    src: url(../font/AppleSDGothicNeoB.ttf);
}

@font-face {
    font-family: "AppleSDGothicNeoLB";
    src: url(../font/AppleSDGothicNeoL.ttf);
}

@font-face {
    font-family: "AppleSDGothicNeoM";
    src: url(../font/AppleSDGothicNeoM.ttf);
}

@font-face {
    font-family: "AppleSDGothicNeoEB";
    src: url(../font/AppleSDGothicNeoEB.ttf);
}

.top{
    width: 100%;
    text-align: center;
    height: 5px;
    line-height: 5px;
}

.top, .funding_1, .funding_2, .funding_3, .funding_4{
    font-family: "AppleSDGothicNeoM";
}

.funding_title{
    float: left;
    width: 50%;
    height: 750px;
    margin-top: 2%;
}

.title, .picture{
    padding-left: 10%;
    font-size: 30px;
    width: 80%;
    padding-bottom: 2%;
}

.funding_percent{
    padding-left: 10%;
    font-size: 20px;
    float: left;
}

.progressTag {
    float: left;
    width:76%;
    padding:0 2%;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    display: block;
    height: 20px;
    border-radius: 7px;
    color: #FD7777;
}
progress::-webkit-progress-bar {
    background-color: #DFD6CD;
    border-radius: 8px;
}
progress::-webkit-progress-value {
    background-color: #FD7777;
    border-radius: 8px;
}
progress::-moz-progress-bar {
    background-color: #DFD6CD;
    border-radius: 8px;
}

.funding_content{
    float: right;
    width: 40%;
    height: 750px;
    font-size: 40px;
    padding:0 5%;
    line-height: 30px;
}

#content_detail{
    font-size: 20px;
}

.like{
    background-color: #DFD6CD;
    padding: 15px;
    border: none;
    border-radius: 5px;
    font-size: 40px;
}

.pr{
    text-align: center;
    font-size: 30px;
    clear: both;
}

.funding_detail{
    font-size: 30px;
    float: left;
    width: 45%;
    margin: 5% 10%;
    height: 60px;
    margin-right: 0;
}

#funding_detail{
    float: left;
    height: 60px;
}

#funding_detail_title{
    float: left;
    width: 20%;
}

.spon_btn{
    float: right;
    border-radius: 20px;
    text-align: center;
    font-size: 40px;
    background-color: #796453;
    color: #DFD6CD;
    padding: 0 5%;
    width: 40%;
    margin: 5% 10%;
    margin-left: 0;
}

.hr_1{
    clear: both; 
    background-color: #796453; 
    height: 2px; 
    border: none; 
    width: auto;
}

.author{
    float: left;
    width: 50%;
    font-size: 20px;
    padding: 25px 8%;
    height: 180px;
    line-height: 180px;
}

.profile_1{
    float: left;
    padding: 25px 8%;
}

.profile_2{
    float: left;
    padding: 40px 8%;
    line-height: 50px;
}

.follow_btn{
    float: left;
    font-size: 30px;
    height: 100px;
    padding:10px 3%;
    margin: 60px 8%;
    color: #4C4646;
    background-color: #DFD6CD;
    border-radius: 10px;
    border: none;
}

.qna_btn{
    float: left;
    font-size: 30px;
    height: 100px;
    line-height: 100px;
    margin: 60px 0;
    padding:0 3%;
    border-radius: 20px;
    border-color: #796453;
    border-style: solid;
}

.hr_2{
    clear: both; 
    background-color: #796453; 
    height: 5px; 
    border: none; 
    width: auto;
}

input[type="radio"] {
    display: none;
}

.fund_btn{
    font-family: "AppleSDGothicNeoM";
    font-size: 30px;
    margin-top: 60px;
    margin-bottom: 0;
    color: #4C4646;
    border: none;
    background-color: white;
    width: 150px;
    display: inline-block;
    margin-left:5%;
    text-transform: uppercase;
}

.fund_btn::after{
    display: block;
    content: '';
    border-bottom: solid 5px #796453;
    transform: scaleX(0);
    transition: transform .25s ease-in-out;
}

.fund_btn:hover:after{
    transform: scaleX(1);
}

.hr_3{
    clear: both; 
    background-color: #796453; 
    height: 3px; 
    border: none; 
    width: auto;
    margin-top: -8px;
}


        
#under_1{
    font-size: 20px;
    margin: 1% 2%;
}

#under_2{
    font-size: 20px;
    display: none;
}

#under_3{
    display: none;
    font-size: 20px;
}

#under_4{
    display: none;
    font-size: 20px;
}

.underbtn{
    border-radius: 100px;
    border-style: solid;
    padding: 1% 3%;
    margin: 0 2%;
    font-size: 23px;
    background-color: #FFFFFF;
    border-color: #4C4646;
}

#underbtn_1{
    border: none;
    background-color: #DFD6CD;
}
    </style>

    <link rel="stylesheet" href="{% static 'css/funding.css' %}">

    <p class="top"><a href = "{% url 'shop:allProdCat' %}">Home</a> | <a href = "{{product.category.get_url}}">{{product.category}}</a> | {{product.name}}</p>

    <div class="funding_1">
        <div class="funding_title">
            <div class="title" style="padding-left: 15%;">[{{product.category}}] {{product.name}}</div>
            <img class="picture" src="{% static 'images/main3.png' %}" style="float: left;"/>
            <!-- {{product.image.url}} 사진이 아직 깨짐 -->
            <button class="like"><i class="fa-solid fa-heart" style="color: #FD7777; float: left;"></i></button>
            <div class="funding_percent" style="clear: both; width: 100%;">
                <span style="float: left;">펀딩 달성률</span>
                <progress class="progressTag" value="95" max="100" style="float: left; width:70%;"></progress>
                <span style="float: left;">95%</span>
            </div>
        </div>

        <div class="funding_content">
            <div class="money_1">
                <div id="content_detail" style="padding-top: 140px;">모인금액</div><br>
                <span id="current_money"></span> 원
            </div>
            <script>
                var money = {{product.price}}; // 모인 금액
                
                function number(money){
                    return money.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                }

                document.getElementById("current_money").innerHTML = number(money);
            </script>
            <div class="time" style="padding-top: 80px;">
                <div id="content_detail">남은시간</div><br>
                <div id="detail_day"></div>
            </div>
            <script src="{% static 'js/dday.js' %}"></script>
            <div class="sponsor" style="padding-top: 80px;">
                <div id="content_detail">후원자</div><br>
                24명
            </div>
        </div>

        <div class="pr" style="clear: both;">"공간에서의 휴식을 느껴보세요. 공간은 때때로 편안함, 안락함을 넘어 그 이상을 제시합니다."</div>
    </div>

    <div class="funding_2">
        <div class="funding_detail">
            <div class="money_2">
                <div id="funding_detail_title"div>목표금액</div>
                <div id="funding_detail"><span id="money"></span>원</div><!-- js로 원 단위 표시하기 -->
                <script>
                    var money = {{product.price}}; // 목표 금액
                    
                    function number(money){
                        return money.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                    }

                    document.getElementById("money").innerHTML = number(money);
                </script>
            </div>
            <div class="time_2" style="clear: both;">
                <div id="funding_detail_title">펀딩기간</div>
                <div id="funding_detail">2022.07.15 ~ 2022.08.23</div>
            </div>
            <div class="cash" style="clear: both;">
                <div id="funding_detail_title">결제</div>
                <div id="funding_detail">목표금액 달성시 2022.08.24에 결제 진행</div>
            </div>
        </div>

        <a href="#" class="spon_btn" style="font-size: 40px;">후원하기</a>
    </div><hr class="hr_1"><br/>

    <div class="funding_3" style="clear: both; height: 180px;">
        <div class="author">
            <img class="profile_1" src="{% static 'images/author_profile.png' %}" style="width: 130px; height: 130px;"/>
            <div class="profile_2">
                <div class="name" style="font-size: 30px;">스튜디오 무색</div>
                <div class="last_login">마지막 로그인 11시간 전</div>
            </div>
        </div>
        <button class="follow_btn">
            <span>+팔로우</span>
        </button>
        <a href="#" class="qna_btn">
            <span>창작자에게 문의</span>
        </a>
    </div><hr class="hr_2">
    
    <div class="funding_4">
        <div class="funding_bar">
            <!-- <label class="fund_btn"><input id="funding_btn1" type="radio" checked style="display: ;"><span>전시계획</span></label>
            <label class="fund_btn"><input id="funding_btn2" type="radio"><span>업데이트</span></label>
            <label class="fund_btn"><input id="funding_btn3" type="radio"><span>Q&A</span></label>
            <label class="fund_btn"><input id="funding_btn4" type="radio"><span>추천</span></label> -->
            <button class="fund_btn" id="funding_btn1" style="width: 150px;">전시계획</button>
            <button class="fund_btn" id="funding_btn2" style="width: 150px;">업데이트</button>
            <button class="fund_btn" id="funding_btn3" style="width: 150px;">Q&A</button>
            <button class="fund_btn" id="funding_btn4" style="width: 150px;">추천</button>
            <hr class="hr_3" style="margin-top: -8px;">
        </div>
        <div class="under_content">
            <div id="under_1">
                <button class="underbtn" id="underbtn_1"><span>소개</span></button>
                <button class="underbtn" id="underbtn_2"><span>예산</span></button>
                <button class="underbtn" id="underbtn_3"><span>일정</span></button>
                <button class="underbtn" id="underbtn_4"><span>작가소개</span></button>
                <button class="underbtn" id="underbtn_5"><span>신뢰와 안전</span></button>
            </div>
            <div id="under_2">
                업데이트 내용 입력
            </div>
            <div id="under_3">
                Q&A 내용
            </div>
            <div id="under_4">
                추천 내용
            </div>
        </div>
        <script>
            $(function(){
                $('#funding_btn1').click(function(){
                    if($('#under_1').css('display')=='none'){
                        $('#under_1').show();
                        $('#under_2').hide();
                        $('#under_3').hide();
                        $('#under_4').hide();
                    }
                });

                $('#funding_btn2').click(function(){
                    if($('#under_2').css('display')=='none'){
                        $('#under_2').show();
                        $('#under_1').hide();
                        $('#under_3').hide();
                        $('#under_4').hide();
                    }
                });

                $('#funding_btn3').click(function(){
                    if($('#under_3').css('display')=='none'){
                        $('#under_3').show();
                        $('#under_1').hide();
                        $('#under_2').hide();
                        $('#under_4').hide();
                    }
                });

                $('#funding_btn4').click(function(){
                    if($('#under_4').css('display')=='none'){
                        $('#under_4').show();
                        $('#under_1').hide();
                        $('#under_2').hide();
                        $('#under_3').hide();
                    }
                });
            });
        </script>
    </div>
{% endblock %}
